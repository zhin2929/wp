!function(){var e={4184:function(e,t){var s;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var i=typeof s;if("string"===i||"number"===i)e.push(s);else if(Array.isArray(s)){if(s.length){var a=r.apply(null,s);a&&e.push(a)}}else if("object"===i)if(s.toString===Object.prototype.toString)for(var o in s)n.call(s,o)&&s[o]&&e.push(o);else e.push(s.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(s=function(){return r}.apply(t,[]))||(e.exports=s)}()},7145:function(e,t){"use strict";function s(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var n="object"==typeof process&&!0;function r(e,t){if(!e){if(n)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=r;var i=Object.prototype.hasOwnProperty,a=Array.prototype.splice,o=Object.prototype.toString;function l(e){return o.call(e).slice(8,-1)}var c=Object.assign||function(e,t){return d(t).forEach((function(s){i.call(t,s)&&(e[s]=t[s])})),e},d="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function p(e){return Array.isArray(e)?c(e.constructor(e.length),e):"Map"===l(e)?new Map(e):"Set"===l(e)?new Set(e):e&&"object"==typeof e?c(Object.create(Object.getPrototypeOf(e)),e):e}var u=function(){function e(){this.commands=c({},h),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var s=this,n="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(n)||r(!Array.isArray(n),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),r("object"==typeof n&&null!==n,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(s.commands).join(", ")+"."}));var a=e;return d(n).forEach((function(t){if(i.call(s.commands,t)){var r=e===a;a=s.commands[t](n[t],a,n,e),r&&s.isEquals(a,e)&&(a=e)}else{var o="Map"===l(e)?s.update(e.get(t),n[t]):s.update(e[t],n[t]),c="Map"===l(a)?a.get(t):a[t];s.isEquals(o,c)&&(void 0!==o||i.call(e,t))||(a===e&&(a=p(e)),"Map"===l(a)?a.set(t,o):a[t]=o)}})),a},e}();t.Context=u;var h={$push:function(e,t,s){return g(t,s,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,s){return g(t,s,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,i){return function(e,t){r(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+s(e)})),b(t.$splice)}(t,n),e.forEach((function(e){b(e),t===i&&e.length&&(t=p(i)),a.apply(t,e)})),t},$set:function(e,t,s){return function(e){r(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(s),e},$toggle:function(e,t){f(e,"$toggle");var s=e.length?p(t):t;return e.forEach((function(e){s[e]=!t[e]})),s},$unset:function(e,t,s,n){return f(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===n&&(t=p(n)),delete t[e])})),t},$add:function(e,t,s,n){return w(t,"$add"),f(e,"$add"),"Map"===l(t)?e.forEach((function(e){var s=e[0],r=e[1];t===n&&t.get(s)!==r&&(t=p(n)),t.set(s,r)})):e.forEach((function(e){t!==n||t.has(e)||(t=p(n)),t.add(e)})),t},$remove:function(e,t,s,n){return w(t,"$remove"),f(e,"$remove"),e.forEach((function(e){t===n&&t.has(e)&&(t=p(n)),t.delete(e)})),t},$merge:function(e,t,n,i){var a,o;return a=t,r((o=e)&&"object"==typeof o,(function(){return"update(): $merge expects a spec of type 'object'; got "+s(o)})),r(a&&"object"==typeof a,(function(){return"update(): $merge expects a target of type 'object'; got "+s(a)})),d(e).forEach((function(s){e[s]!==t[s]&&(t===i&&(t=p(i)),t[s]=e[s])})),t},$apply:function(e,t){var n;return r("function"==typeof(n=e),(function(){return"update(): expected spec of $apply to be a function; got "+s(n)+"."})),e(t)}},m=new u;function g(e,t,n){r(Array.isArray(e),(function(){return"update(): expected target of "+s(n)+" to be an array; got "+s(e)+"."})),f(t[n],n)}function f(e,t){r(Array.isArray(e),(function(){return"update(): expected spec of "+s(t)+" to be an array; got "+s(e)+". Did you forget to wrap your parameter in an array?"}))}function b(e){r(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+s(e)+". Did you forget to wrap your parameters in an array?"}))}function w(e,t){var n=l(e);r("Map"===n||"Set"===n,(function(){return"update(): "+s(t)+" expects a target of type Set or Map; got "+s(n)}))}t.isEquals=m.update.isEquals,t.extend=m.extend,t.default=m.update,t.default.default=e.exports=c(t.default,t)},2705:function(e,t,s){var n=s(5639).Symbol;e.exports=n},9932:function(e){e.exports=function(e,t){for(var s=-1,n=null==e?0:e.length,r=Array(n);++s<n;)r[s]=t(e[s],s,e);return r}},4239:function(e,t,s){var n=s(2705),r=s(9607),i=s(2333),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):i(e)}},98:function(e){var t=Math.ceil,s=Math.max;e.exports=function(e,n,r,i){for(var a=-1,o=s(t((n-e)/(r||1)),0),l=Array(o);o--;)l[i?o:++a]=e,e+=r;return l}},531:function(e,t,s){var n=s(2705),r=s(9932),i=s(1469),a=s(3448),o=n?n.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(a(t))return l?l.call(t):"";var s=t+"";return"0"==s&&1/t==-1/0?"-0":s}},7561:function(e,t,s){var n=s(7990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},7445:function(e,t,s){var n=s(98),r=s(6612),i=s(8601);e.exports=function(e){return function(t,s,a){return a&&"number"!=typeof a&&r(t,s,a)&&(s=a=void 0),t=i(t),void 0===s?(s=t,t=0):s=i(s),a=void 0===a?t<s?1:-1:i(a),n(t,s,a,e)}}},1957:function(e,t,s){var n="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g;e.exports=n},9607:function(e,t,s){var n=s(2705),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),s=e[o];try{e[o]=void 0;var n=!0}catch(e){}var r=a.call(e);return n&&(t?e[o]=s:delete e[o]),r}},5776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,s){var n=typeof e;return!!(s=null==s?9007199254740991:s)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<s}},6612:function(e,t,s){var n=s(7813),r=s(8612),i=s(5776),a=s(3218);e.exports=function(e,t,s){if(!a(s))return!1;var o=typeof t;return!!("number"==o?r(s)&&i(t,s.length):"string"==o&&t in s)&&n(s[t],e)}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,s){var n=s(1957),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i},7990:function(e){var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},7813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},1469:function(e){var t=Array.isArray;e.exports=t},8612:function(e,t,s){var n=s(3560),r=s(1780);e.exports=function(e){return null!=e&&r(e.length)&&!n(e)}},3560:function(e,t,s){var n=s(4239),r=s(3218);e.exports=function(e){if(!r(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,s){var n=s(4239),r=s(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},6026:function(e,t,s){var n=s(7445)();e.exports=n},8601:function(e,t,s){var n=s(4841);e.exports=function(e){return e?Infinity===(e=n(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},4841:function(e,t,s){var n=s(7561),r=s(3218),i=s(3448),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var s=o.test(e);return s||l.test(e)?c(e.slice(2),s?2:8):a.test(e)?NaN:+e}},9833:function(e,t,s){var n=s(531);e.exports=function(e){return null==e?"":n(e)}},3955:function(e,t,s){var n=s(9833),r=0;e.exports=function(e){var t=++r;return n(e)+t}}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var t=window.wp.element,n=window.React,r=s.n(n);class i extends r().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error(e),console.error(t)}render(){return this.state.hasError?(0,t.createElement)("div",{className:"sui-notice sui-notice-error"},(0,t.createElement)("div",{className:"sui-notice-content"},(0,t.createElement)("div",{className:"sui-notice-message"},(0,t.createElement)("span",{className:"sui-notice-icon sui-icon-warning-alert sui-md","aria-hidden":"true"}),(0,t.createElement)("p",null,(0,t.createElement)("strong",null,"Something went wrong. Please contact ",(0,t.createElement)("a",{target:"_blank",href:"https://wpmudev.com/get-support/"},"support"),"."))))):this.props.children}}var a=i,o=window.wp.domReady,l=s.n(o),c=window.ReactDOM;function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var p=s(4184),u=s.n(p);class h extends r().Component{handleClick(e){e.preventDefault(),this.props.onClick()}render(){let e,s,n=this.props.icon?(0,t.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}):"";return this.props.loading?(e=(0,t.createElement)("span",{className:"sui-loading-text"},n," ",this.props.text),s=(0,t.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"})):(e=(0,t.createElement)("span",null,n," ",this.props.text),s=""),(0,t.createElement)("button",{className:u()(this.props.className,"sui-button","sui-button-"+this.props.color,{"sui-button-onload":this.props.loading,"sui-button-ghost":this.props.ghost,"sui-button-icon":!this.props.text.trim(),"sui-button-dashed":this.props.dashed}),onClick:e=>this.handleClick(e),id:this.props.id,disabled:this.props.disabled},e,s)}}d(h,"defaultProps",{id:"",text:"",color:"",dashed:!1,icon:!1,loading:!1,ghost:!1,disabled:!1,className:"",onClick:()=>!1});var m=window.wp.i18n;class g extends r().Component{render(){const e=u()("sui-button-icon sui-dropdown-anchor",{"sui-button-onload":this.props.loading});return(0,t.createElement)("div",{className:"sui-dropdown sui-accordion-item-action"},(0,t.createElement)("button",{className:e,"aria-label":(0,m.__)("Dropdown","wds"),disabled:this.props.disabled},(0,t.createElement)("span",{className:"sui-loading-text"},(0,t.createElement)("span",{className:this.props.icon,style:{pointerEvents:"none"},"aria-hidden":"true"})),(0,t.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"})),(0,t.createElement)("ul",null,this.props.buttons.map(((e,s)=>(0,t.createElement)("li",{key:s},e)))))}}d(g,"defaultProps",{icon:"sui-icon-widget-settings-config",buttons:[],loading:!1,disabled:!1,onClick:()=>!1});class f extends r().Component{render(){return(0,t.createElement)("button",{className:u()({"sui-option-red":this.props.red}),onClick:()=>this.props.onClick(),type:"button"},(0,t.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}),this.props.text)}}d(f,"defaultProps",{text:"",icon:"",red:!1,onClick:()=>!1});var b=SUI,w=s.n(b),E=jQuery,y=s.n(E);class v extends r().Component{constructor(e){super(e),this.props=e}componentDidMount(){w().openModal(this.props.id,this.props.focusAfterClose,this.props.focusAfterOpen?this.props.focusAfterOpen:this.getTitleId(),!1,!1)}componentWillUnmount(){w().closeModal()}handleKeyDown(e){y()(e.target).is(".sui-modal.sui-active input")&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),!this.props.enterDisabled&&this.props.onEnter&&this.props.onEnter(e))}render(){const e=this.getHeaderActions(),s=Object.assign({},{"sui-modal-sm":this.props.small,"sui-modal-lg":!this.props.small},this.props.dialogClasses);return(0,t.createElement)("div",{className:u()("sui-modal",s),onKeyDown:e=>this.handleKeyDown(e)},(0,t.createElement)("div",{role:"dialog",id:this.props.id,className:u()("sui-modal-content",this.props.id+"-modal"),"aria-modal":"true","aria-labelledby":this.props.id+"-modal-title","aria-describedby":this.props.id+"-modal-description"},(0,t.createElement)("div",{className:"sui-box",role:"document"},(0,t.createElement)("div",{className:u()("sui-box-header",{"sui-flatten sui-content-center sui-spacing-top--40":this.props.small})},(0,t.createElement)("h3",{id:this.getTitleId(),className:u()("sui-box-title",{"sui-lg":this.props.small})},this.props.title),e),(0,t.createElement)("div",{className:u()("sui-box-body",{"sui-content-center":this.props.small})},this.props.description&&(0,t.createElement)("p",{className:"sui-description",id:this.props.id+"-modal-description"},this.props.description),this.props.children),this.props.footer&&(0,t.createElement)("div",{className:"sui-box-footer"},this.props.footer))))}getTitleId(){return this.props.id+"-modal-title"}getHeaderActions(){const e=this.getCloseButton();return this.props.small?e:this.props.headerActions?this.props.headerActions:(0,t.createElement)("div",{className:"sui-actions-right"},e)}getCloseButton(){return(0,t.createElement)("button",{id:this.props.id+"-close-button",type:"button",onClick:()=>this.props.onClose(),disabled:this.props.disableCloseButton,className:u()("sui-button-icon",{"sui-button-float--right":this.props.small})},(0,t.createElement)("span",{className:"sui-icon-close sui-md","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Close this dialog window","wds")))}}d(v,"defaultProps",{id:"",title:"",description:"",small:!1,headerActions:!1,focusAfterOpen:"",focusAfterClose:"container",dialogClasses:[],disableCloseButton:!1,enterDisabled:!1,onEnter:!1,onClose:()=>!1});var _=function(s,n){return class extends r().Component{constructor(e){super(e),this.state={initial:!0}}isValueValid(e){if(this.state.initial)return!0;if(Array.isArray(n)){let t=!0;return n.forEach((s=>{t=t&&s(e)})),t}return n(e)}handleChange(e){this.setState({initial:!1},(()=>{this.props.onChange(e,this.isValueValid(e))}))}render(){return(0,t.createElement)(s,e({},this.props,{isValid:this.isValueValid(this.props.value),onChange:e=>this.handleChange(e)}))}}};class x extends r().Component{constructor(e){super(e)}render(){return(0,t.createElement)("div",{className:u()("sui-form-field",{"sui-form-field-error":!this.props.isValid})},(0,t.createElement)("label",{className:"sui-label"},this.props.label),(0,t.createElement)("input",{id:this.props.id,type:"text",className:"sui-form-control",onChange:e=>this.props.onChange(e.target.value),value:this.props.value,placeholder:this.props.placeholder}),!!this.props.description&&(0,t.createElement)("p",{className:"sui-description"},(0,t.createElement)("small",null,this.props.description)))}}d(x,"defaultProps",{id:"",label:"",description:"",value:"",isValid:!0,placeholder:"",onChange:()=>!1});class k{static isNonEmpty(e){return e&&e.trim()}static isValuePlainText(e){return y()("<div>").html(e).text()===e}}const C=_(x,[k.isNonEmpty,k.isValuePlainText]),P=_(x,[k.isNonEmpty,k.isValuePlainText]);class S extends r().Component{constructor(e){super(e);const t=this.props.editMode;this.state={keyword:this.props.keyword,keywordIsValid:t,url:this.props.url,urlIsValid:t}}handleKeywordChange(e,t){this.setState({keyword:e,keywordIsValid:t})}handleUrlChange(e,t){this.setState({url:e,urlIsValid:t})}render(){const e=()=>this.props.onSave(this.state.keyword,this.state.url),s=!this.state.keywordIsValid||!this.state.urlIsValid;return(0,t.createElement)(v,{id:"wds-custom-keywords",title:(0,m.__)("Add Custom Keywords","wds"),description:(0,m.__)("Choose your keywords, and then specify the URL to auto-link to.","wds"),enterDisabled:s,focusAfterOpen:"wds-custom-keyword",focusAfterClose:"wds-keyword-pair-new-button",onEnter:e,onClose:this.props.onClose,footer:(0,t.createElement)(r().Fragment,null,(0,t.createElement)("div",{className:"sui-flex-child-right"},(0,t.createElement)(h,{text:(0,m.__)("Cancel","wds"),ghost:!0,onClick:this.props.onClose})),(0,t.createElement)("div",{className:"sui-actions-right"},(0,t.createElement)(h,{text:(0,m.__)("Save","wds"),color:"blue",onClick:e,icon:"sui-icon-save",disabled:s})))},(0,t.createElement)(C,{id:"wds-custom-keyword",label:(0,t.createInterpolateElement)((0,m.__)("Keyword group <span>Usually related terms</span>","wds"),{span:(0,t.createElement)("span",null)}),value:this.state.keyword,placeholder:(0,m.__)("E.g. Cats, Kittens, Felines","wds"),onChange:(e,t)=>this.handleKeywordChange(e,t)}),(0,t.createElement)(P,{label:(0,t.createInterpolateElement)((0,m.__)("Link URL <span>Both internal and external links are supported</span>","wds"),{span:(0,t.createElement)("span",null)}),value:this.state.url,placeholder:(0,m.__)("E.g. /cats","wds"),description:(0,t.createInterpolateElement)((0,m.__)("Formats include relative (E.g. <strong>/cats</strong>) or absolute URLs (E.g. <strong>https://www.website.com/cats</strong> or <strong>https://website.com/cats</strong>).","wds"),{strong:(0,t.createElement)("strong",null)}),onChange:(e,t)=>this.handleUrlChange(e,t)}))}}d(S,"defaultProps",{keyword:"",url:"",editMode:!1,onClose:()=>!1,onSave:()=>!1});class N extends r().Component{constructor(e){super(e),this.state={pairs:this.dataPropToPairs(),addingPair:!1,editingPair:!1}}render(){return(0,t.createElement)("div",{className:"wds-keyword-pairs"},this.state.pairs&&!!this.state.pairs.length&&(0,t.createElement)("table",{className:"wds-keyword-pairs-existing sui-table"},(0,t.createElement)("tbody",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,(0,m.__)("Keyword","wds")),(0,t.createElement)("th",{colSpan:"2"},(0,m.__)("Auto-Linked URL","wds"))),this.state.pairs.map(((e,s)=>(0,t.createElement)("tr",{className:"wds-keyword-pair"},(0,t.createElement)("td",{className:"wds-pair-keyword"},e.keyword),(0,t.createElement)("td",{className:"wds-pair-url"},e.url),(0,t.createElement)("td",{className:"wds-pair-actions"},(0,t.createElement)(g,{buttons:[(0,t.createElement)(f,{onClick:()=>this.startEditingPair(s),icon:"sui-icon-pencil",text:(0,m.__)("Edit","wds")}),(0,t.createElement)(f,{onClick:()=>this.deletePair(s),icon:"sui-icon-trash",text:(0,m.__)("Delete","wds"),red:!0})]}),this.state.editingPair===s&&(0,t.createElement)(S,{keyword:e.keyword,url:e.url,editMode:!0,onClose:()=>this.stopEditingPair(),onSave:(e,t)=>this.editPair(s,e,t)}))))))),(0,t.createElement)("div",{className:"wds-keyword-pair-new"},(0,t.createElement)(h,{id:"wds-keyword-pair-new-button",icon:"sui-icon-plus",onClick:()=>this.startAddingPair(),text:(0,m.__)("Add Link","wds")})),(0,t.createElement)("textarea",{name:"wds_autolinks_options[customkey]",style:{display:"none"},value:this.pairsToText()}),this.state.addingPair&&(0,t.createElement)(S,{onClose:()=>this.stopAddingPair(),onSave:(e,t)=>this.addPair(e,t)}))}dataPropToPairs(){return this.textToPairs(this.props.data)}textToPairs(e){const t=e.split(/\n/),s=[];return t.forEach((e=>{if(!e.includes(","))return;const t=e.split(",").map((e=>e.trim()));s.push({keyword:t.slice(0,-1).join(","),url:t.slice(-1).pop()})})),s}pairsToText(){const e=[];return this.state.pairs.forEach((t=>{var s,n;const r=null===(s=t.keyword)||void 0===s?void 0:s.trim(),i=null===(n=t.url)||void 0===n?void 0:n.trim();r&&i&&e.push(r+","+i)})),e.join("\n")}startEditingPair(e){this.setState({editingPair:e})}editPair(e,t,s){const n=this.state.pairs.slice();t.trim()&&s.trim()&&(n[e]={keyword:t,url:s},this.setState({pairs:n,editingPair:!1}))}stopEditingPair(){this.setState({editingPair:!1})}startAddingPair(){this.setState({addingPair:!0})}addPair(e,t){const s=this.state.pairs.slice();e.trim()&&t.trim()&&(s.push({keyword:e,url:t}),this.setState({pairs:s,addingPair:!1}))}stopAddingPair(){this.setState({addingPair:!1})}deletePair(e){const t=this.state.pairs.filter(((t,s)=>s!==e));this.setState({pairs:t})}}d(N,"defaultProps",{data:""});var A=class{static get(e,t="general"){Array.isArray(e)||(e=[e]);let s=window["_wds_"+t]||{};return e.forEach((e=>{s=s&&s.hasOwnProperty(e)?s[e]:""})),s}static get_bool(e,t="general"){return!!this.get(e,t)}};class O extends r().Component{render(){return(0,t.createElement)("div",{className:"sui-builder-field"},(0,t.createElement)("label",{className:"sui-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:this.props.selected,onChange:e=>this.props.onToggle(e.target.checked)}),(0,t.createElement)("span",{"aria-hidden":"true"})),(0,t.createElement)("div",{className:"sui-builder-field-label"},this.props.source),(0,t.createElement)("small",null,this.props.destination),(0,t.createElement)("span",{className:"wds-redirect-type-label"},"301"===this.props.type&&(0,t.createElement)("small",null,(0,m.__)("Permanent","wds")),"302"===this.props.type&&(0,t.createElement)("small",null,(0,m.__)("Temporary","wds"))),(0,t.createElement)(g,{buttons:[(0,t.createElement)(f,{icon:"sui-icon-pencil",text:(0,m.__)("Edit","wds"),onClick:()=>this.props.onEdit()}),(0,t.createElement)(f,{icon:"sui-icon-trash",text:(0,m.__)("Remove","wds"),red:!0,onClick:()=>this.props.onDelete()})]}))}}d(O,"defaultProps",{source:"",destination:"",type:"",selected:!1,onToggle:()=>!1,onEdit:()=>!1,onDelete:()=>!1});var j=s(3955),R=s.n(j);class I extends r().Component{render(){const e=this.props.formControl;return(0,t.createElement)("div",{className:u()("sui-form-field",{"sui-form-field-error":!this.props.isValid})},(0,t.createElement)("label",{className:"sui-label"},this.props.label),(0,t.createElement)(e,this.props),!!this.props.description&&(0,t.createElement)("p",{className:"sui-description"},(0,t.createElement)("small",null,this.props.description)))}}d(I,"defaultProps",{label:"",description:"",isValid:!0,formControl:!1});class T extends r().Component{constructor(e){super(e),this.props=e,this.state={loadingText:!1},this.selectElement=r().createRef(),this.selectElementContainer=r().createRef()}componentDidMount(){const e=y()(this.selectElement.current);e.addClass(this.props.small?"sui-select sui-select-sm":"sui-select").SUIselect2(this.getSelect2Args()),this.includeSelectedValueAsDynamicOption(),e.on("change",(e=>this.handleChange(e)))}includeSelectedValueAsDynamicOption(){this.props.selectedValue&&this.noOptionsAvailable()&&(this.props.tagging?Array.isArray(this.props.selectedValue)?this.props.selectedValue.forEach((e=>{this.addOption(e,e,!0)})):this.addOption(this.props.selectedValue,this.props.selectedValue,!0):this.props.loadTextAjaxUrl&&this.loadTextFromRemote())}loadTextFromRemote(){this.state.loadingText||(this.setState({loadingText:!0}),y().get(this.props.loadTextAjaxUrl,{id:this.props.selectedValue}).done((e=>{e&&e.results&&e.results.length&&e.results.forEach((e=>{this.addOption(e.id,e.text,!0)})),this.setState({loadingText:!1})})))}addOption(e,t,s){let n=new Option(t,e,!1,s);y()(this.selectElement.current).append(n).trigger("change")}noOptionsAvailable(){return!Object.keys(this.props.options).length}componentWillUnmount(){y()(this.selectElement.current).off().SUIselect2("destroy")}getSelect2Args(){let e={dropdownParent:y()(this.selectElementContainer.current),dropdownCssClass:"sui-select-dropdown",minimumResultsForSearch:this.props.minimumResultsForSearch,multiple:this.props.multiple,tagging:this.props.tagging};return this.props.placeholder&&(e.placeholder=this.props.placeholder),this.props.ajaxUrl&&(e.ajax={url:this.props.ajaxUrl},e.minimumInputLength=this.props.minimumInputLength),this.props.templateResult&&(e.templateResult=this.props.templateResult),this.props.templateSelection&&(e.templateSelection=this.props.templateSelection),this.props.ajaxUrl&&this.props.tagging&&(e.ajax.processResults=(e,t)=>e.results&&!e.results.length?{results:[{id:t.term,text:t.term}]}:e),e}handleChange(e){let t=e.target.value;this.props.multiple&&(t=Array.from(e.target.selectedOptions,(e=>e.value))),this.props.onSelect(t)}isOptGroup(e){return"object"==typeof e&&e.label&&e.options}printOptions(e){return Object.keys(e).map((s=>{const n=e[s];return this.isOptGroup(n)?(0,t.createElement)("optgroup",{key:s,label:n.label},this.printOptions(n.options)):(0,t.createElement)("option",{key:s,value:s},n)}))}render(){const e=this.props.options;let s;return s=Object.keys(e).length?this.printOptions(e):(0,t.createElement)("option",null),(0,t.createElement)("div",{ref:this.selectElementContainer},(0,t.createElement)("select",{disabled:this.state.loadingText,value:this.props.selectedValue,onChange:()=>!0,ref:this.selectElement,multiple:this.props.multiple},s))}}d(T,"defaultProps",{small:!1,tagging:!1,placeholder:"",ajaxUrl:"",loadTextAjaxUrl:"",selectedValue:"",minimumResultsForSearch:10,minimumInputLength:3,multiple:!1,options:{},templateResult:!1,templateSelection:!1,onSelect:()=>!1});class U extends r().Component{render(){return(0,t.createElement)(I,e({},this.props,{formControl:T}))}}function D(){return A.get("default_redirect_type","autolinks")}const V=_(x,[k.isNonEmpty,k.isValuePlainText]),$=_(x,[k.isNonEmpty,k.isValuePlainText]);class M extends r().Component{constructor(e){super(e);const t=this.props.editMode;this.state={source:this.props.source,isSourceValid:t,destination:this.props.destination,isDestinationValid:t,type:this.props.type}}handleSourceChange(e,t){this.setState({source:e,isSourceValid:t})}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}render(){const e=()=>this.props.onSave(this.state.source.trim(),this.state.destination.trim(),this.state.type),s=!this.state.isSourceValid||!this.state.isDestinationValid;return(0,t.createElement)(v,{id:"wds-add-redirect-form",title:(0,m.__)("Add Redirect","wds"),description:(0,t.createInterpolateElement)((0,m.__)("Allowed formats include relative URLs like <strong>/cats</strong> or absolute URLs such as <strong>https://website.com/cats</strong>.","wds"),{strong:(0,t.createElement)("strong",null)}),onEnter:e,onClose:this.props.onClose,enterDisabled:s,focusAfterOpen:"wds-source-field",focusAfterClose:"wds-add-redirect-dashed-button",small:!0},(0,t.createElement)(V,{id:"wds-source-field",label:(0,m.__)("Old URL","wds"),value:this.state.source,placeholder:(0,m.__)("E.g. /cats","wds"),onChange:(e,t)=>this.handleSourceChange(e,t)}),(0,t.createElement)($,{label:(0,m.__)("New URL","wds"),value:this.state.destination,placeholder:(0,m.__)("E.g. /cats-new","wds"),onChange:(e,t)=>this.handleDestinationChange(e,t)}),(0,t.createElement)(U,{label:(0,m.__)("Redirect Type","wds"),description:(0,m.__)("This tells search engines whether to keep indexing the old page, or replace it with the new page.","wds"),options:{302:(0,m.__)("Temporary","wds"),301:(0,m.__)("Permanent","wds")},selectedValue:this.state.type,onSelect:e=>this.setState({type:e})}),(0,t.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,t.createElement)(h,{text:(0,m.__)("Cancel","wds"),ghost:!0,onClick:this.props.onClose}),(0,t.createElement)(h,{text:(0,m.__)("Save","wds"),color:"blue",onClick:e,icon:"sui-icon-save",disabled:s})))}}d(M,"defaultProps",{editMode:!1,source:"",destination:"",type:D(),onSave:()=>!1,onClose:()=>!1});var G=s(7145),L=s.n(G);const W=_(x,[k.isNonEmpty,k.isValuePlainText]);class F extends r().Component{constructor(e){super(e),this.state={destination:"",isDestinationValid:!1,type:D()}}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}render(){const e=()=>this.props.onSave(this.state.destination.trim(),this.state.type),s=!this.state.isDestinationValid;return(0,t.createElement)(v,{id:"wds-bulk-update-redirects",title:(0,m.__)("Bulk Update","wds"),description:(0,m.__)("Choose which bulk update actions you wish to apply. This will override the existing values for the selected items.","wds"),onEnter:e,onClose:this.props.onClose,enterDisabled:s,focusAfterOpen:"wds-destination-field",focusAfterClose:"wds-add-redirect-dashed-button",small:!0},(0,t.createElement)(W,{id:"wds-destination-field",label:(0,m.__)("New URL","wds"),value:this.state.destination,placeholder:(0,m.__)("E.g. /cats-new","wds"),onChange:(e,t)=>this.handleDestinationChange(e,t)}),(0,t.createElement)(U,{label:(0,m.__)("Redirect Type","wds"),description:(0,m.__)("This tells search engines whether to keep indexing the old page, or replace it with the new page.","wds"),options:{302:(0,m.__)("Temporary","wds"),301:(0,m.__)("Permanent","wds")},selectedValue:this.state.type,onSelect:e=>this.setState({type:e})}),(0,t.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,t.createElement)(h,{text:(0,m.__)("Cancel","wds"),ghost:!0,onClick:this.props.onClose}),(0,t.createElement)(h,{text:(0,m.__)("Save","wds"),color:"blue",onClick:e,icon:"sui-icon-save",disabled:s})))}}d(F,"defaultProps",{onSave:()=>!1,onClose:()=>!1});var q=s(6026),B=s.n(q);class K{static getPage(e,t,s){const n={};return Object.keys(e).slice((t-1)*s,t*s).forEach((t=>n[t]=e[t])),n}static getPageCount(e,t){const s=Math.ceil(e/t);return s<1?1:s}}class Y extends r().Component{handleClick(e,t){e.preventDefault(),this.props.onClick(t)}getPageNumbers(){const e=this.getPageCount(),t=B()(1,e+1);if(e<=7)return t;const s=this.props.currentPage;let n,r;s<=3?(n=s-1,r=7-n-1):e-s<=3?(r=e-s,n=7-r-1):(n=2,r=3);let i=-1;const a=t.map((e=>e<s-n||e>s+r?i:(i--,e)));return Array.from(new Set(a))}render(){const e=this.getPageCount(),s=this.getPageNumbers();return(0,t.createElement)("div",{className:"sui-pagination-wrap"},(0,t.createElement)("span",{className:"sui-pagination-results"},(0,m.sprintf)((0,m.__)("%s results","wds"),this.props.count)),(0,t.createElement)("ul",{className:"sui-pagination"},(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,1),disabled:1===this.props.currentPage},(0,t.createElement)("span",{className:"sui-icon-arrow-skip-back","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Go to first page","wds")))),(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage-1),disabled:1===this.props.currentPage},(0,t.createElement)("span",{className:"sui-icon-chevron-left","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Go to previous page","wds")))),s.map((e=>e<0?(0,t.createElement)("li",{key:e},(0,t.createElement)("a",{style:{pointerEvents:"none"}},"...")):(0,t.createElement)("li",{key:e,className:u()({"sui-active":e===this.props.currentPage})},(0,t.createElement)("a",{href:"#",role:"button",onClick:t=>this.handleClick(t,e)},e)))),(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage+1),disabled:this.props.currentPage===e},(0,t.createElement)("span",{className:"sui-icon-chevron-right","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Go to next page","wds")))),(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:t=>this.handleClick(t,e),disabled:this.props.currentPage===e},(0,t.createElement)("span",{className:"sui-icon-arrow-skip-forward","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Go to last page","wds"))))))}getPageCount(){return K.getPageCount(this.props.count,this.props.perPage)}}d(Y,"defaultProps",{count:0,perPage:10,currentPage:1,onClick:()=>!1});class Q{static getQueryParam(e){const t=location.search;return new URLSearchParams(t).get(e)}static removeQueryParam(e){const t=location.search,s=new URLSearchParams(t);if(!s.get(e))return;s.delete(e);const n=location.href.replace(t,"?"+s.toString());history.replaceState({},"",n)}}class H extends r().Component{constructor(e){super(e);const t=this.prepareInternalData(this.props.redirects,this.props.types);this.state={redirects:t,bulkItems:new Set,addingRedirect:!1,editingRedirect:!1,bulkUpdating:!1,currentPageNumber:1},this.redirectsPerPage=10}componentDidMount(){this.maybeStartAddingRedirect()}prepareInternalData(e,t){const s={};return Object.keys(e).forEach((n=>{if(!t.hasOwnProperty(n))return;const r=this.getUniqueId();s[r]={source:n,destination:e[n],type:t[n]+""}})),s}getUniqueId(){return R()("redirect-")}render(){const s=this.state.redirects,n=this.objectLength(s),i=n>0,a=this.getRedirectsPage(),o=this.objectLength(a),l=this.state.bulkItems.size,c=o>0&&l===o;return(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"sui-box-builder"},(0,t.createElement)("div",{className:"sui-box-builder-header",style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}},(0,t.createElement)(h,{text:(0,m.__)("Add Redirect","wds"),color:"purple",icon:"sui-icon-plus",onClick:()=>this.startAddingRedirect()}),(0,t.createElement)("div",null,n>this.redirectsPerPage&&(0,t.createElement)(Y,{count:n,currentPage:this.state.currentPageNumber,perPage:this.redirectsPerPage,onClick:e=>this.changePage(e)}))),(0,t.createElement)("div",{className:u()("sui-box-builder-body",{"wds-no-redirects":!i})},(0,t.createElement)("div",{className:"wds-redirect-controls"},(0,t.createElement)("label",{className:"sui-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:c,onChange:e=>this.toggleAll(e.target.checked)}),(0,t.createElement)("span",{"aria-hidden":"true"})),(0,t.createElement)(h,{text:(0,m.__)("Bulk Update","wds"),onClick:()=>this.startBulkUpdate(),disabled:!l}),this.state.bulkUpdating&&(0,t.createElement)(F,{onSave:(e,t)=>this.bulkUpdate(e,t),onClose:()=>this.stopBulkUpdate()}),(0,t.createElement)(h,{text:(0,m.__)("Remove Redirects","wds"),onClick:()=>this.bulkDeleteRedirects(),disabled:!l})),(0,t.createElement)("div",{className:"sui-builder-fields"},Object.keys(a).map((s=>{const n=a[s];return(0,t.createElement)(r().Fragment,{key:s},(0,t.createElement)(O,e({},n,{selected:this.state.bulkItems.has(s),onToggle:e=>this.toggleItem(s,e),onEdit:()=>this.startEditingRedirect(s),onDelete:()=>this.deleteSingleRedirect(s)})),this.state.editingRedirect===s&&(0,t.createElement)(M,{editMode:!0,source:n.source,destination:n.destination,type:n.type,onSave:(e,t,n)=>this.editRedirect(s,e,t,n),onClose:()=>this.stopEditingRedirect()}))}))),(0,t.createElement)(h,{id:"wds-add-redirect-dashed-button",dashed:!0,icon:"sui-icon-plus",text:(0,m.__)("Add Redirect","wds"),onClick:()=>this.startAddingRedirect()}),(0,t.createElement)("p",{className:"wds-no-redirects-message"},(0,t.createElement)("small",null,(0,m.__)("You can add as many redirects as you like. Add your first above!","wds"))))),this.state.addingRedirect&&(0,t.createElement)(M,{onSave:(e,t,s)=>this.addRedirect(e,t,s),onClose:()=>this.stopAddingRedirect()}),(0,t.createElement)("input",{type:"hidden",name:"wds_autolinks_options[urls]",value:JSON.stringify(this.state.redirects)}))}changePage(e){this.setState({currentPageNumber:e,bulkItems:new Set})}setRedirect(e,t,s,n){const r=L()(this.state.redirects,{[e]:{$set:{source:t,destination:s,type:n}}});return new Promise((e=>{this.setState({redirects:r},e)}))}startAddingRedirect(){this.setState({addingRedirect:!0})}addRedirect(e,t,s){this.sourceExists(e)?this.showErrorNotice((0,m.__)("That URL already exists, please try again.","wds")):this.setRedirect(this.getUniqueId(),e,t,s).then((()=>{this.showSuccessNotice((0,m.__)("The redirect has been added. You need to save the changes to make them live.","wds")),this.setState({currentPageNumber:this.getPageCount()}),this.stopAddingRedirect()}))}sourceExists(e){return Object.values(this.state.redirects).filter((t=>t.source===e)).length>0}stopAddingRedirect(){this.maybeRemoveQueryParam(),this.setState({addingRedirect:!1})}startEditingRedirect(e){this.setState({editingRedirect:e})}editRedirect(e,t,s,n){this.setRedirect(e,t,s,n),this.stopEditingRedirect(),this.showSuccessNotice((0,m.__)("The redirect has been updated. You need to save the changes to make them live.","wds"))}stopEditingRedirect(){this.setState({editingRedirect:!1})}startBulkUpdate(){this.setState({bulkUpdating:!0})}bulkUpdate(e,t){const s=this.state.bulkItems,n={};s.forEach((s=>{n[s]={destination:{$set:e},type:{$set:t}}})),this.setState({redirects:L()(this.state.redirects,n),bulkUpdating:!1}),this.showSuccessNotice((0,m.__)("The redirects have been updated. You need to save the changes to make them live.","wds"))}stopBulkUpdate(){this.setState({bulkUpdating:!1})}bulkDeleteRedirects(){this.deleteRedirect(Array.from(this.state.bulkItems)),this.showSuccessNotice((0,m.__)("The redirects have been removed. You need to save the changes to make them live.","wds"))}deleteSingleRedirect(e){this.deleteRedirect(e),this.showSuccessNotice((0,m.__)("The redirect has been removed. You need to save the changes to make them live.","wds"))}deleteRedirect(e){Array.isArray(e)||(e=[e]);const t=L()(this.state.redirects,{$unset:e}),s=L()(this.state.bulkItems,{$remove:e});this.setState({redirects:t},(()=>{this.setState({currentPageNumber:this.newPageNumberAfterDeletion(),bulkItems:s})}))}toggleItem(e,t){const s=this.state.bulkItems;t?s.add(e):s.delete(e),this.setState({bulkItems:s})}toggleAll(e){let t;t=e?Object.keys(this.getRedirectsPage()):[],this.setState({bulkItems:new Set(t)})}getPageCount(){return K.getPageCount(this.objectLength(this.state.redirects),this.redirectsPerPage)}getRedirectsPage(){return K.getPage(this.state.redirects,this.state.currentPageNumber,this.redirectsPerPage)}newPageNumberAfterDeletion(){const e=this.state.currentPageNumber;return e>this.getPageCount()?e-1:e}objectLength(e){return Object.keys(e).length}showNotice(e,t="success"){w().closeNotice("wds-redirect-notice"),w().openNotice("wds-redirect-notice","<p>"+e+"</p>",{type:t,icon:{error:"warning-alert",info:"info",warning:"warning-alert",success:"check-tick"}[t],dismiss:{show:!1}})}showSuccessNotice(e){this.showNotice(e,"info")}showErrorNotice(e){this.showNotice(e,"error")}maybeStartAddingRedirect(){"1"===Q.getQueryParam("add_redirect")&&this.startAddingRedirect()}maybeRemoveQueryParam(){Q.removeQueryParam("add_redirect")}}class z extends r().Component{render(){return(0,t.createElement)("div",{className:"sui-box-settings-row"},(0,t.createElement)("div",{className:"sui-box-settings-col-1"},(0,t.createElement)("span",{className:"sui-settings-label"},this.props.label),(0,t.createElement)("span",{className:"sui-description"},this.props.description)),(0,t.createElement)("div",{className:"sui-box-settings-col-2"},this.props.children))}}d(z,"defaultProps",{label:"",description:""});class J extends r().Component{render(){return this.props.label?(0,t.createElement)("div",{className:"sui-form-field"},this.inner()):this.inner()}inner(){const e=this.props.id;return(0,t.createElement)("label",{htmlFor:e,className:"sui-toggle"},(0,t.createElement)("input",{type:"checkbox",id:e,checked:this.props.checked,onChange:e=>this.props.onChange(e.target.checked),disabled:this.props.disabled,"aria-labelledby":e+"-label","aria-describedby":e+"-description"}),(0,t.createElement)("span",{className:"sui-toggle-slider","aria-hidden":"true"}),this.props.label&&(0,t.createElement)("span",{id:e+"-label",className:"sui-toggle-label"},this.props.label),this.props.description&&(0,t.createElement)("span",{id:e+"-description",className:"sui-description"},this.props.description))}}d(J,"defaultProps",{id:"",label:"",description:"",checked:!1,disabled:!1,onChange:()=>!1});class X extends r().Component{render(){return(0,t.createElement)("div",{className:"sui-box sui-message sui-message-lg"},(0,t.createElement)("img",{src:this.props.imagePath,className:"sui-image","aria-hidden":"true",alt:(0,m.__)("Disabled component","wds")}),(0,t.createElement)("div",{className:"sui-message-content"},(0,t.createElement)("p",null,this.props.message),(0,t.createElement)("p",null,this.props.button)))}}d(X,"defaultProps",{imagePath:!1,message:"",button:!1});var Z=ajaxurl,ee=s.n(Z);class te extends r().Component{render(){const e=this.getIcon(this.props.type);return(0,t.createElement)("div",{className:u()("sui-notice","sui-notice-"+this.props.type)},(0,t.createElement)("div",{className:"sui-notice-content"},(0,t.createElement)("div",{className:"sui-notice-message"},e&&(0,t.createElement)("span",{className:u()("sui-notice-icon sui-md",e),"aria-hidden":"true"}),(0,t.createElement)("p",null,this.props.message))))}getIcon(e){return{warning:"sui-icon-warning-alert",info:"sui-icon-info",success:"sui-icon-check-tick",purple:"sui-icon-info","":"sui-icon-info"}[e]}}d(te,"defaultProps",{type:"warning",message:""});class se extends r().Component{constructor(e){super(e),this.state=Object.assign({},this.props,{requestInProgress:!1})}render(){if(!this.state.woocommerceEnabled){const e=(0,t.createElement)(h,{color:"blue",text:(0,m.__)("Activate","wds"),loading:this.state.requestInProgress,onClick:()=>this.changeModuleStatus(!0)});return(0,t.createElement)(X,{imagePath:this.props.disabledImagePath,message:(0,m.__)("Activate WooCommerce SEO to add the required metadata and Product Schema to your WooCommerce site, helping you stand out in search results.","wds"),button:e})}return(0,t.createElement)("div",{className:"sui-box"},(0,t.createElement)("div",{className:"sui-box-header"},(0,t.createElement)("h2",{className:"sui-box-title"},(0,m.__)("WooCommerce SEO","wds"))),(0,t.createElement)("div",{className:"sui-box-body"},(0,t.createElement)("p",null,(0,m.__)("Use the WooCommerce SEO configurations below to add recommended Woo metadata and Product Schema to your WooCommerce site, helping you stand out in search results pages.","wds")),(0,t.createElement)(z,{label:(0,m.__)("Improve Woo Schema","wds"),description:(0,m.__)("Improve your site's WooCommerce Schema.","wds")},this.props.schemaAllowed&&!this.props.schemaEnabled&&(0,t.createElement)(te,{message:(0,t.createInterpolateElement)((0,m.__)("For these settings to be applied, the <a>Schema module</a> must first be enabled.","wds"),{a:(0,t.createElement)("a",{target:"_blank",href:this.props.schemaUrl})})}),(0,t.createElement)(U,{label:(0,m.__)("Brand","wds"),description:(0,m.__)("Select the product taxonomy to use as Brand in Schema & OpenGraph markup.","wds"),options:this.props.brandOptions,selectedValue:this.state.brand,onSelect:e=>this.setState({brand:e})}),(0,t.createElement)(U,{label:(0,m.__)("Global Identifier","wds"),description:(0,t.createInterpolateElement)((0,m.__)("Global Identifier key to use in the Product Schema. You can add a Global Identifier value for each product in the <strong>Inventory</strong> section of the <strong>Product Metabox</strong>","wds"),{strong:(0,t.createElement)("strong",null)}),options:{"":(0,m.__)("None","wds"),gtin8:"GTIN-8",gtin12:"GTIN-12",gtin13:"GTIN-13",gtin14:"GTIN-14",isbn:"ISBN",mpn:"MPN"},selectedValue:this.state.globalIdentifier,onSelect:e=>this.setState({globalIdentifier:e})}),this.props.schemaAllowed&&(0,t.createElement)(J,{id:"wds-enable-shop-schema",label:(0,m.__)("Enable Shop Schema","wds"),description:(0,m.__)("Add schema data on the shop page.","wds"),disabled:!this.props.schemaEnabled,checked:this.state.enableShopPageSchema,onChange:e=>this.setState({enableShopPageSchema:e})})),(0,t.createElement)(z,{label:(0,m.__)("Improve Woo Meta","wds"),description:(0,m.__)("Improve your site's default WooCommerce Meta.","wds")},this.props.socialAllowed&&!this.props.opengraphEnabled&&(0,t.createElement)(te,{message:(0,t.createInterpolateElement)((0,m.__)("For these settings to be applied, OpenGraph Support must first be <a>enabled</a>.","wds"),{a:(0,t.createElement)("a",{target:"_blank",href:this.props.socialUrl})})}),this.props.socialAllowed&&(0,t.createElement)(J,{id:"wds-enable-opengraph",label:(0,m.__)("Enable Product Open Graph","wds"),description:(0,m.__)("If enabled, WooCommerce product data will be added to Open Graph.","wds"),disabled:!this.props.opengraphEnabled,checked:this.state.enableOpenGraph,onChange:e=>this.setState({enableOpenGraph:e})}),(0,t.createElement)(J,{id:"wds-remove-generator-tag",label:(0,m.__)("Remove Generator Tag","wds"),description:(0,t.createInterpolateElement)((0,m.__)('If enabled, the WooCommerce generator tag <strong><meta name="generator" content="WooCommerce x.x.x" /></strong> will be removed.',"wds"),{strong:(0,t.createElement)("strong",null)}),checked:this.state.removeGeneratorTag,onChange:e=>this.setState({removeGeneratorTag:e})})),(0,t.createElement)(z,{label:(0,m.__)("Restrict Search Engines","wds"),description:(0,m.__)("Use these options to restrict Indexing or crawling of specific pages on the site.","wds")},(0,t.createElement)(J,{id:"wds-noindex-hidden-products",label:(0,m.__)("Noindex Hidden Products","wds"),description:(0,m.__)("Set Product Pages to noindex when WooCommerce Catalog visibility is set to hidden.","wds"),checked:this.state.noindexHiddenProducts,onChange:e=>this.setState({noindexHiddenProducts:e})}),(0,t.createElement)(J,{id:"wds-add-robots",label:(0,m.__)("Disallow Crawling of Cart, Checkout & My Account Pages","wds"),description:(0,t.createInterpolateElement)((0,m.__)("If enabled, the following will be added to your Robots.txt file:<br/><strong>Disallow: /*add-to-cart=*<br/>Disallow: /cart/<br/>Disallow: /checkout/<br/>Disallow: /my-account/</strong>","wds"),{strong:(0,t.createElement)("strong",null),br:(0,t.createElement)("br",null)}),checked:this.state.addRobots,onChange:e=>this.setState({addRobots:e})}))),(0,t.createElement)("div",{className:"sui-box-footer"},(0,t.createElement)("input",{type:"hidden",name:"wds_autolinks_options[woo-settings]",value:JSON.stringify(this.state)}),(0,t.createElement)(h,{text:(0,m.__)("Deactivate","wds"),loading:this.state.requestInProgress,icon:"sui-icon-power-on-off",ghost:!0,onClick:()=>this.changeModuleStatus(!1)}),(0,t.createElement)("button",{name:"submit",type:"submit",className:"sui-button sui-button-blue"},(0,t.createElement)("span",{className:"sui-icon-save","aria-hidden":"true"}),(0,m.__)("Save Settings","wds"))))}changeModuleStatus(e){this.setState({requestInProgress:!0}),class{static post(e,t,s={}){return new Promise((function(n,r){const i=Object.assign({},{action:e,_wds_nonce:t},s);y().post(ee(),i).done((function(e){var t;e.success?n(null==e?void 0:e.data):r(null==e||null===(t=e.data)||void 0===t?void 0:t.message)})).fail((()=>r()))}))}}.post("wds_change_woo_status",this.props.nonce,{enable:e?1:0}).then((()=>{this.setState({woocommerceEnabled:e,requestInProgress:!1})}))}}d(se,"defaultProps",{woocommerceEnabled:!1,removeGeneratorTag:!1,enableOpenGraph:!1,addRobots:!1,enableShopPageSchema:!1,noindexHiddenProducts:!1,brandOptions:{},brand:"",globalIdentifier:"",disabledImagePath:"",permalinkSettingsUrl:"",nonce:"",opengraphEnabled:!1,socialAllowed:!1,socialUrl:"",schemaEnabled:!1,schemaAllowed:!1,schemaUrl:""}),l()((()=>{const s=document.getElementById("wds-custom-keyword-pairs");if(s){const e=A.get("custom_keywords","autolinks")||"";(0,c.render)((0,t.createElement)(a,null,(0,t.createElement)(N,{data:e})),s)}const n=document.getElementById("wds-redirects-container");if(n){const e=A.get("redirects","autolinks")||{},s=A.get("redirect_types","autolinks")||{};(0,c.render)((0,t.createElement)(a,null,(0,t.createElement)(H,{redirects:e,types:s})),n)}const r=document.getElementById("wds-woo-settings-tab");if(r){const s=A.get("options","woo")||{},n=A.get("permalink_settings","woo");(0,c.render)((0,t.createElement)(a,null,(0,t.createElement)(se,e({},s,{permalinkSettingsUrl:n,disabledImagePath:A.get("image_path","woo"),nonce:A.get("nonce","woo")}))),r)}})),function(e){function t(t){var s=e(this).find(".wds-action-button"),n=t.which;s.length&&13===n&&(t.preventDefault(),t.stopPropagation(),s.trigger("click"))}function s(t){var s=!0,n=e(this),r=e('button[type="submit"]',n);e(".sui-form-field",n).each((function(){var t=e(this),n=e("input",t);n.val().trim()||(s=!1,t.addClass("sui-form-field-error"),n.on("focus keydown",(function(){e(this).closest(".sui-form-field-error").removeClass("sui-form-field-error")})))})),s?r.addClass("sui-button-onload"):(r.removeClass("sui-button-onload"),t.preventDefault())}function n(){let e=this.scrollHeight;!e&&this.value.includes("\n")&&(e=22*(this.value.split("\n").length+1)),this.style.height="1px",this.style.height=e+"px"}e((function(){var r;e("#ignorepost").closest(".wds-excluded-posts").each((function(){window.Wds.Postlist.exclude(e(this))})),e(".wds-vertical-tabs").on("wds_vertical_tabs:tab_change",(function(t,s){e(s).find(".wds-vertical-tab-section").removeClass("hidden")})),e(document).on("submit",".wds-moz-form",s).on("input propertychange",".tab_robots_editor textarea",n).on("keydown",".sui-modal",t),e(".tab_robots_editor textarea").each((function(){n.apply(this)})),window.Wds.link_dropdown(),window.Wds.accordion(),window.Wds.vertical_tabs(),window.Wds.hook_toggleables(),"tab_url_redirection"===(r=new URLSearchParams(window.location.search)).get("tab")&&r.get("add_redirect")&&e("button.wds-add-redirect").trigger("click")}))}(jQuery)}()}();